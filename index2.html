<html><head><base href="/" />
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Les News du Web</title>
    <style>
        :root {
            --primary-color: #002631;
            --secondary-color: #02BCB7;
            --text-color: #333;
            --background-color: #f5f6fa;
        }

        body {
            margin: 0;
            padding: 0;
            font-family: 'Arial', sans-serif;
            background-color: var(--background-color);
            line-height: 1.6;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }

        header {
            background-color: var(--primary-color);
            padding: 1rem;
            text-align: center;
        }

        .logo {
            max-width: 200px;
            height: auto;
        }

        .header-title {
            color: white;
            margin: 0.5rem 0;
            font-size: 2rem;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            flex: 1;
        }

        .articles {
            display: flex;
            flex-wrap: wrap;
            gap: 2rem;
            opacity: 0;
            transform: translateY(20px);
            transition: opacity 0.5s ease, transform 0.5s ease;
        }

        .article {
            flex: 1;
            min-width: 300px;
            background: white;
            border-radius: 10px;
            padding: 20px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
            border-top: 3px solid var(--secondary-color);
        }

        .articles.loaded {
            opacity: 1;
            transform: translateY(0);
        }

        .article-image {
            width: 100%;
            height: 200px;
            background-color: #eee;
            margin-bottom: 1rem;
            border-radius: 5px;
            background-size: cover;
            background-position: center;
            max-width: 100%;
        }

        .article-title {
            color: var(--primary-color);
            margin: 0.5rem 0;
            height: 24px;
            margin-bottom: 10px;
        }

        .article-subtitle {
            color: var(--secondary-color);
            margin-bottom: 1rem;
            height: 20px;
            width: 70%;
        }

        .article-content {
            height: 100px;
            margin: 10px 0;
        }

        .article-meta {
            display: flex;
            justify-content: space-between;
            color: #666;
            font-size: 0.9rem;
            margin-top: 1rem;
            padding-top: 1rem;
            border-top: 1px solid var(--secondary-color);
            height: 20px;
        }

        footer {
            background-color: var(--primary-color);
            color: white;
            text-align: center;
            padding: 1rem;
            margin-top: auto;
        }

        .loading-placeholder {
            background: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%);
            background-size: 200% 100%;
            animation: loading 1.5s infinite;
        }

        @keyframes loading {
            0% { background-position: -200% 0; }
            100% { background-position: 200% 0; }
        }

        .site-logo {
            width: 200px;
            height: auto;
            filter: drop-shadow(0 2px 4px rgba(0,0,0,0.2));
        }

        @media (max-width: 480px) {
            .site-logo {
                width: 150px;
            }
            
            .header-title {
                font-size: 1.5rem;
            }

            .article {
                min-width: 100%;
                margin: 0;
            }

            .container {
                padding: 10px;
            }

            .articles {
                gap: 1rem;
            }
        }
    </style>
</head>
<body>
    <header>
        <img src="Designer.png" alt="Les News du Web" class="site-logo">
        <h1 class="header-title">Les News du Web</h1>
    </header>

    <div class="container">
        <div class="articles loaded" id="articles">
            <article class="article">
                <div class="article-image loading-placeholder"></div>
                <div class="article-title loading-placeholder"></div>
                <div class="article-subtitle loading-placeholder"></div>
                <div class="article-content loading-placeholder"></div>
                <div class="article-meta loading-placeholder"></div>
            </article>
            <article class="article">
                <div class="article-image loading-placeholder"></div>
                <div class="article-title loading-placeholder"></div>
                <div class="article-subtitle loading-placeholder"></div>
                <div class="article-content loading-placeholder"></div>
                <div class="article-meta loading-placeholder"></div>
            </article>
            <article class="article">
                <div class="article-image loading-placeholder"></div>
                <div class="article-title loading-placeholder"></div>
                <div class="article-subtitle loading-placeholder"></div>
                <div class="article-content loading-placeholder"></div>
                <div class="article-meta loading-placeholder"></div>
            </article>
        </div>
    </div>

    <footer>
        <p>© 2024 Les News du Web - Tous droits réservés</p>
    </footer>

    <script>
        function createArticleElement(article) {
            return `
                <article class="article">
                    <div class="article-image" style="background-image: url('${article.image}');"></div>
                    <h2 class="article-title">${article.title1}</h2>
                    <h3 class="article-subtitle">${article.title2}</h3>
                    <div class="article-content">${article.content}</div>
                    <div class="article-meta">
                        <span class="article-date">${new Date(article.date).toLocaleDateString()}</span>
                        <span class="article-author">${article.author}</span>
                    </div>
                </article>
            `;
        }

        async function loadArticles() {
            const articlesContainer = document.getElementById('articles');

            try {
                const response = await fetch('https://startechs-2024-default-rtdb.europe-west1.firebasedatabase.app/blog.json');
                if (!response.ok) {
                    throw new Error('Network response was not ok');
                }
                const articles = await response.json();
                
                const sortedArticles = articles.sort((a, b) => new Date(b.date) - new Date(a.date));
                
                articlesContainer.innerHTML = sortedArticles.map(createArticleElement).join('');

            } catch (error) {
                console.error('Error fetching articles:', error);
                articlesContainer.innerHTML = '<p>Une erreur est survenue lors du chargement des articles.</p>';
            }
        }

        document.addEventListener('DOMContentLoaded', () => {
            setTimeout(loadArticles, 5000);
        });
    </script>
</body></html>